/* esm.sh - esbuild bundle(react-router@6.3.0) deno production */
import{parsePath as N,createMemoryHistory as U,Action as j}from"/v99/history@5.3.0/X-ZS9yZWFjdA/deno/history.js";import{Action as We,createPath as Be,parsePath as $e}from"/v99/history@5.3.0/X-ZS9yZWFjdA/deno/history.js";import{createContext as x,useContext as d,useMemo as P,useRef as D,useEffect as C,useCallback as F,createElement as R,useState as J,useLayoutEffect as H,Children as A,isValidElement as Y,Fragment as z}from"react";var _=x(null),w=x(null),y=x({outlet:null,matches:[]});function h(e,t){if(!e)throw new Error(t)}function ye(e,t){return t===void 0&&(t={}),e.replace(/:(\w+)/g,(n,a)=>(t[a]==null&&h(!1),t[a])).replace(/\/*\*$/,n=>t["*"]==null?"":t["*"].replace(/^\/*/,"/"))}function k(e,t,n){n===void 0&&(n="/");let a=typeof t=="string"?N(t):t,o=L(a.pathname||"/",n);if(o==null)return null;let s=W(e);G(s);let r=null;for(let i=0;r==null&&i<s.length;++i)r=ae(s[i],o);return r}function W(e,t,n,a){return t===void 0&&(t=[]),n===void 0&&(n=[]),a===void 0&&(a=""),e.forEach((o,s)=>{let r={relativePath:o.path||"",caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};r.relativePath.startsWith("/")&&(r.relativePath.startsWith(a)||h(!1),r.relativePath=r.relativePath.slice(a.length));let i=m([a,r.relativePath]),l=n.concat(r);o.children&&o.children.length>0&&(o.index===!0&&h(!1),W(o.children,t,l,i)),!(o.path==null&&!o.index)&&t.push({path:i,score:te(i,o.index),routesMeta:l})}),t}function G(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:ne(t.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var q=/^:\w+$/,K=3,Q=2,X=1,Z=10,ee=-2,S=e=>e==="*";function te(e,t){let n=e.split("/"),a=n.length;return n.some(S)&&(a+=ee),t&&(a+=Q),n.filter(o=>!S(o)).reduce((o,s)=>o+(q.test(s)?K:s===""?X:Z),a)}function ne(e,t){return e.length===t.length&&e.slice(0,-1).every((a,o)=>a===t[o])?e[e.length-1]-t[t.length-1]:0}function ae(e,t){let{routesMeta:n}=e,a={},o="/",s=[];for(let r=0;r<n.length;++r){let i=n[r],l=r===n.length-1,c=o==="/"?t:t.slice(o.length)||"/",u=B({path:i.relativePath,caseSensitive:i.caseSensitive,end:l},c);if(!u)return null;Object.assign(a,u.params);let f=i.route;s.push({params:a,pathname:m([o,u.pathname]),pathnameBase:T(m([o,u.pathnameBase])),route:f}),u.pathnameBase!=="/"&&(o=m([o,u.pathnameBase]))}return s}function B(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=oe(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let s=o[0],r=s.replace(/(.)\/+$/,"$1"),i=o.slice(1);return{params:a.reduce((c,u,f)=>{if(u==="*"){let g=i[f]||"";r=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}return c[u]=re(i[f]||"",u),c},{}),pathname:s,pathnameBase:r,pattern:e}}function oe(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0);let a=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(r,i)=>(a.push(i),"([^\\/]+)"));return e.endsWith("*")?(a.push("*"),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)",[new RegExp(o,t?void 0:"i"),a]}function re(e,t){try{return decodeURIComponent(e)}catch{return e}}function ie(e,t){t===void 0&&(t="/");let{pathname:n,search:a="",hash:o=""}=typeof e=="string"?N(e):e;return{pathname:n?n.startsWith("/")?n:se(n,t):t,search:ue(a),hash:ce(o)}}function se(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function $(e,t,n){let a=typeof e=="string"?N(e):e,o=e===""||a.pathname===""?"/":a.pathname,s;if(o==null)s=n;else{let i=t.length-1;if(o.startsWith("..")){let l=o.split("/");for(;l[0]==="..";)l.shift(),i-=1;a.pathname=l.join("/")}s=i>=0?t[i]:"/"}let r=ie(a,s);return o&&o!=="/"&&o.endsWith("/")&&!r.pathname.endsWith("/")&&(r.pathname+="/"),r}function le(e){return e===""||e.pathname===""?"/":typeof e=="string"?N(e).pathname:e.pathname}function L(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=e.charAt(t.length);return n&&n!=="/"?null:e.slice(t.length)||"/"}var m=e=>e.join("/").replace(/\/\/+/g,"/"),T=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ue=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ce=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Ee(e){v()||h(!1);let{basename:t,navigator:n}=d(_),{hash:a,pathname:o,search:s}=de(e),r=o;if(t!=="/"){let i=le(e),l=i!=null&&i.endsWith("/");r=o==="/"?t+(l?"/":""):m([t,o])}return n.createHref({pathname:r,search:s,hash:a})}function v(){return d(w)!=null}function O(){return v()||h(!1),d(w).location}function Re(){return d(w).navigationType}function Pe(e){v()||h(!1);let{pathname:t}=O();return P(()=>B(e,t),[t,e])}function he(){v()||h(!1);let{basename:e,navigator:t}=d(_),{matches:n}=d(y),{pathname:a}=O(),o=JSON.stringify(n.map(i=>i.pathnameBase)),s=D(!1);return C(()=>{s.current=!0}),F(function(i,l){if(l===void 0&&(l={}),!s.current)return;if(typeof i=="number"){t.go(i);return}let c=$(i,JSON.parse(o),a);e!=="/"&&(c.pathname=m([e,c.pathname])),(l.replace?t.replace:t.push)(c,l.state)},[e,t,o,a])}var M=x(null);function xe(){return d(M)}function pe(e){let t=d(y).outlet;return t&&R(M.Provider,{value:e},t)}function we(){let{matches:e}=d(y),t=e[e.length-1];return t?t.params:{}}function de(e){let{matches:t}=d(y),{pathname:n}=O(),a=JSON.stringify(t.map(o=>o.pathnameBase));return P(()=>$(e,JSON.parse(a),n),[e,a,n])}function fe(e,t){v()||h(!1);let{matches:n}=d(y),a=n[n.length-1],o=a?a.params:{},s=a?a.pathname:"/",r=a?a.pathnameBase:"/",i=a&&a.route,l=O(),c;if(t){var u;let p=typeof t=="string"?N(t):t;r==="/"||((u=p.pathname)==null?void 0:u.startsWith(r))||h(!1),c=p}else c=l;let f=c.pathname||"/",g=r==="/"?f:f.slice(r.length)||"/",E=k(e,{pathname:g});return I(E&&E.map(p=>Object.assign({},p,{params:Object.assign({},o,p.params),pathname:m([r,p.pathname]),pathnameBase:p.pathnameBase==="/"?r:m([r,p.pathnameBase])})),n)}function I(e,t){return t===void 0&&(t=[]),e==null?null:e.reduceRight((n,a,o)=>R(y.Provider,{children:a.route.element!==void 0?a.route.element:n,value:{outlet:n,matches:t.concat(e.slice(0,o+1))}}),null)}function Oe(e){let{basename:t,children:n,initialEntries:a,initialIndex:o}=e,s=D();s.current==null&&(s.current=U({initialEntries:a,initialIndex:o}));let r=s.current,[i,l]=J({action:r.action,location:r.location});return H(()=>r.listen(l),[r]),R(ve,{basename:t,children:n,location:i.location,navigationType:i.action,navigator:r})}function be(e){let{to:t,replace:n,state:a}=e;v()||h(!1);let o=he();return C(()=>{o(t,{replace:n,state:a})}),null}function _e(e){return pe(e.context)}function me(e){h(!1)}function ve(e){let{basename:t="/",children:n=null,location:a,navigationType:o=j.Pop,navigator:s,static:r=!1}=e;v()&&h(!1);let i=T(t),l=P(()=>({basename:i,navigator:s,static:r}),[i,s,r]);typeof a=="string"&&(a=N(a));let{pathname:c="/",search:u="",hash:f="",state:g=null,key:E="default"}=a,p=P(()=>{let V=L(c,i);return V==null?null:{pathname:V,search:u,hash:f,state:g,key:E}},[i,c,u,f,g,E]);return p==null?null:R(_.Provider,{value:l},R(w.Provider,{children:n,value:{location:p,navigationType:o}}))}function Ve(e){let{children:t,location:n}=e;return fe(b(t),n)}function b(e){let t=[];return A.forEach(e,n=>{if(!Y(n))return;if(n.type===z){t.push.apply(t,b(n.props.children));return}n.type!==me&&h(!1);let a={caseSensitive:n.props.caseSensitive,element:n.props.element,index:n.props.index,path:n.props.path};n.props.children&&(a.children=b(n.props.children)),t.push(a)}),t}function Se(e){return I(e)}export{Oe as MemoryRouter,be as Navigate,We as NavigationType,_e as Outlet,me as Route,ve as Router,Ve as Routes,w as UNSAFE_LocationContext,_ as UNSAFE_NavigationContext,y as UNSAFE_RouteContext,Be as createPath,b as createRoutesFromChildren,ye as generatePath,B as matchPath,k as matchRoutes,$e as parsePath,Se as renderMatches,ie as resolvePath,Ee as useHref,v as useInRouterContext,O as useLocation,Pe as useMatch,he as useNavigate,Re as useNavigationType,pe as useOutlet,xe as useOutletContext,we as useParams,de as useResolvedPath,fe as useRoutes};
/**
 * React Router v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
